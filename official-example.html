<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Официальный AR.js Рабочий Пример</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <!-- we import arjs version without NFT but with marker + location based support -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin : 0px; overflow: hidden;">
    <a-scene embedded arjs>
        <a-marker preset="hiro">
            <!-- we use cors proxy to avoid cross-origin problems ATTENTION! you need to set up your server -->
            <a-entity
                position="0 0 0"
                scale="0.5 0.5 0.5"
                gltf-model="https://cdn.jsdelivr.net/gh/KhronosGroup/glTF-Sample-Models@master/2.0/Duck/glTF/Duck.gltf">
                <!-- Add lighting for better visualization -->
                <a-entity light="type: ambient; intensity: 1.5;"></a-entity>
                <a-entity light="type: directional; intensity: 1.5;" position="1 4 3"></a-entity>
            </a-entity>
        </a-marker>
        <a-entity camera></a-entity>
    </a-scene>
    
    <div style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); 
                background: rgba(0,0,0,0.7); color: white; padding: 10px 20px; border-radius: 10px;
                text-align: center; font-family: Arial, sans-serif;">
        Наведите камеру на маркер Hiro
    </div>
    
    <script>
        // Auto-start camera on first interaction (КЛЮЧЕВАЯ ЧАСТЬ)
        document.addEventListener('touchstart', function() {
            const video = document.querySelector('#arjs-video');
            if (video) {
                video.play().catch(e => console.log('Autoplay prevented, user interaction required'));
            }
        });
        
        // For desktop testing
        document.addEventListener('click', function() {
            const video = document.querySelector('#arjs-video');
            if (video) {
                video.play().catch(e => console.log('Autoplay prevented'));
            }
        });
        
        console.log('AR.js Official Example Loaded');
    </script>
</body>
</html>